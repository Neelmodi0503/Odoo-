<?xml  version ="1.0" encoding="UTF-8"?>
<odoo>

                      <!--   Tree View    -->

    <record id ="view_hospital_patient_tree" model="ir.ui.view">
        <field name="name">hospital.patient.tree</field>
        <field name="model">hospital.patient</field>
        <field name="arch" type="xml">
            <tree string="Patients">
                <field name="name"/>
                <field name="age" readonly="1"/>
                <field name = "payment_status"/>
                <field name="date_of_birth" optional="hide"/>
                <field name="gender" optional="show"/>

            </tree>
        </field>
    </record>

                    <!-- Search View  -->

    <record id = "patient_serach_view" model="ir.ui.view">
        <field name="name">hospital.patient.search</field>
        <field name="model">hospital.patient</field>
        <field name = "arch" type="xml">
            <search string = "Search Patient">
                <field name = "name"/>
                <field name = "gender"/>
                <field name="contact_no"/>
                <filter name="male" string="Male" domain="[('gender','=','male')]" />
                <filter name="female" string="Female" domain="[('gender','=','female')]" />

            </search>
        </field>
    </record>


                    <!-- Form View    -->

        <record id ="view_hospital_patient_form" model="ir.ui.view">
            <field name="name">hospital.patient.form</field>
            <field name="model">hospital.patient</field>
            <field name="arch" type="xml">
                <form string="Patient Form" class="o_form_view">

                    <header>
                        <button name="action_save_and_new" string="Save and New" type="object" class="btn-primary"/>
                        <button name="get_senior_patients" string="Get Senior Patients" type="object" class="btn-primary"/>
                        <button name="add_new_patient" string="Add Patients " type="object" class="btn-primary"/>
                        <button name="%(action_patient_wizard)d" string="Add Note" type="action" class="btn-primary"/>
                    </header>

                    <sheet>
                        <group string="Baisic Info" col="2">    
                            <group>
                                <field name="name" placeholder="Enter Name"/>
                                <field name="blood_group" placeholder="Select Blood Group"/>
                                <field name="date_of_birth"/>
                                <field name="age"/>
                            </group>
                            <group>
                                <field name="image" widget="image" options="{'img_class': 'o_image_64_contain mw-100'}" class="oe_avatar"/>
                                <field name="marital_status"/>

                            </group>
                        </group>

                        <group string="Contact-info" col="2">
                            <group>
                                <field name="email" widget="email" placeholder="Please Enter Email-id"/>
                                <field name="contact_no" widget="phone" placeholder="It should contain 10 digits"/>
                                <field name="tag_ids" widget="many2many_tags" placeholder="Description" options="{'no_create': True}"/>

                            </group>
                            <group>
                            <field name = "address" placeholder="Resident Address" />
                            <field name = "zip_code" placeholder="enter pin code" />
                            <field name = 'country' placeholder="Enter country name" />
                            </group>
                        </group>

                        <group>
                            <field name="payment_status" readonly="1"/>
                            <field name="shipping_status"/>
                            <field name="shipping_price"/>
                        </group>


                    <div class="d-flex justify-content-between">
                        <button name="action_pay_now" type="object" string="Pay" class="btn-primary" modifiers="{'invisible': [('payment_status','=','paid')]}"/>


                        <button name = "action_shipping" type = "object"
                            string = "Fetch Price " class="btn-primary" />
                        <button name = "action_update_tracking" type = "object"
                            string = " Track " class="btn-primary" />


                    </div>

                    <group string="External API Data">
                        <field name="external_data"/>
                        <button string="Fetch External Data" type="object" name="fetch_external_data" class="oe_highlight mt-3 "/>
                    </group>


                </sheet>

                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>





            </form>
        </field>
    </record>



            <!--  Action TO open In Tree And form -->


    <record id ="action_hospital_patient" model="ir.actions.act_window">
        <field name ="name">Patients</field>
        <field name ="res_model">hospital.patient</field>
        <field name ="view_mode">tree,form</field>
        <field name="search_view_id" ref="hospital_management.patient_serach_view"/>
        <field name = 'help' type='html'>
            <p class="o_view_nocontent_smiling_face">
                Create your first patient
            </p>
        </field>
    </record>






</odoo>
            
