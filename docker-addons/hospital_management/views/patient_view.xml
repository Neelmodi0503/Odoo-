<?xml  version ="1.0" encoding="UTF-8"?>
<odoo>

    <record id ="view_hospital_patient_tree" model="ir.ui.view">
        <field name="name">hospital.patient.tree</field>
        <field name="model">hospital.patient</field>
        <field name="arch" type="xml">
            <tree string="Patients">
                <field name="name"/>
                <field name="age" readonly="1"/>
                <field name="date_of_birth" optional="hide"/>
                <field name="gender" optional="show"/>

            </tree>
        </field>
    </record>

    <record id = "patient_serach_view" model="ir.ui.view">
        <field name="name">hospital.patient.search</field>
        <field name="model">hospital.patient</field>
        <field name = "arch" type="xml">
            <search string = "Search Patient">
                <field name = "name"/>
                <field name = "gender"/>
                <field name="contact_no"/>
                <filter name="male" string="Male" domain="[('gender','=','male')]" />
                <filter name="female" string="Female" domain="[('gender','=','female')]" />

            </search>
        </field>
    </record>


   
        <record id="ir_cron_doctor_test" model="ir.cron">
            <field name="name">Test Doctor Cron</field>
            <field name="model_id" ref="model_hospital_doctor"/>
            <field name="state">code</field>
            <field name="code">model.cron_test_doctor()</field>
            <field name="interval_number">1</field>           
            <field name="interval_type">minutes</field>
            <field name="numbercall">-1</field>           
            <field name="active">True</field>
        </record>   




    <record id ="view_hospital_patient_form" model="ir.ui.view">
        <field name="name">hospital.patient.form</field>
        <field name="model">hospital.patient</field>
        <field name="arch" type="xml">
            <form string="Patient Form" class="o_form_view">

                <header>
                    <button name="action_save_and_new" string="Save and New" type="object" class="btn-primary"/>
                    <button name="get_senior_patients" string="Get Senior Patients" type="object" class="btn-primary"/>
                    <button name="add_new_patient" string="Add Patients " type="object" class="btn-primary"/>


                </header>

                <sheet>
                    <group>
                        <group>
                            <field name="name"/>
                            <field name="age"/>
                            <field name="email" widget="email"/>
                            <field name = "contact_no" widget="phone"/>

                        </group>
                        <group>
                            <field name="date_of_birth" optional="show"/>
                            <field name="gender"/>
                            <field name ="tag_ids" widget="many2many_tags"/>
                            <field name = "marital_status"/>
                        </group>
                    </group>
                </sheet>
                
                <div class="oe_chatter">
                    <field name="message_follower_ids" groups="base.group_user" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>


            </form>
        </field>
    </record>



    <record id ="action_hospital_patient" model="ir.actions.act_window">
        <field name ="name">Patients</field>
        <field name ="res_model">hospital.patient</field>
        <field name ="view_mode">tree,form</field>
        <field name="search_view_id" ref="hospital_management.patient_serach_view"/>
        <field name = 'help' type='html'>
            <p class="o_view_nocontent_smiling_face">
                Create your first patient
            </p>
        </field>
    </record>



<record id="view_form_hospital_patient" model="ir.ui.view">
    <field name="name">hospital.patient.form.api</field>
    <field name="model">hospital.patient</field>
    <field name="inherit_id" ref="hospital_management.view_hospital_patient_form"/>
    <field name="arch" type="xml">
        <xpath expr="//sheet" position="inside">
            <group string="External API Data">
                <field name="external_data"/>
                <button string="Fetch External Data" type="object" name="fetch_external_data" class="oe_highlight"/>
            </group>
        </xpath>
    </field>
</record>


</odoo>
            